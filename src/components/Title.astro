---
import Section from "./Section.astro"
---

<Section className="title" id="title">
    <div class="container title-container" id="title_container">
        <h1>The Great</h1>
        <h2>
            RGB (<span class="red-value" id="red_value">86</span>, <span
                class="green-value"
                id="green_value">125</span
            >, <span class="blue-value" id="blue_value">246</span>)
        </h2>
        <h3>Color Picking Game</h3>
    </div>
</Section>

<style>
    .container.title-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 40px 0;
        color: #fff;
        background-color: #333;
    }

    h1, h2, h3
    {
        text-shadow: var(--text-shadow);
    }
    h1 {
        font-size: 2.5rem;
        text-transform: uppercase;
    }

    h2 {
        font-size: 3rem;
        margin: 15px 0;
    }

    h3 {
        font-size: 2rem;
    }
</style>

<script>
    const titleContainer = document.querySelector(
        "#title_container",
    ) as HTMLElement
    const redValue = document.querySelector("#red_value") as HTMLElement
    const greenValue = document.querySelector("#green_value") as HTMLElement
    const blueValue = document.querySelector("#blue_value") as HTMLElement

    // FUNCTIONS //

    // Generate Random RGB Color Value
    function generateRandomRGBColorValue()
    {
        // Setting each value to be a random number between 0 and 255
        const r = Math.floor(Math.random() * 255)
        const g = Math.floor(Math.random() * 255)
        const b = Math.floor(Math.random() * 255)

        // Updating the background color and RGB title color
        updateColorValueAndTitleBackground({ r, g, b })

        // Returning the values as a destructured object
        return { r, g, b }
    }

    // Setting the {rgb} destructured object to be the result of the generateRandomRGBColorValue function
    const { r, g, b } = generateRandomRGBColorValue()
    updateColorValueAndTitleBackground({ r, g, b })
    
    // Passing in the destructured object as a parameter, so that each value can be accessed inside the function
    function updateColorValueAndTitleBackground({ r, g, b })
    {
        titleContainer.style.backgroundColor = `rgb(${r}, ${g}, ${b})`
        redValue.textContent = `${r}`
        greenValue.textContent = `${g}`
        blueValue.textContent = `${b}`
    }

    updateColorValueAndTitleBackground({ r, g, b })
</script>
